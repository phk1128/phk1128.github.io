---
title: TCP vs UDP
date: 2024-09-11
categories: [ CS, Network ]
tags: [ 네트워크, network, CS ]
image: assets/posts/img_12.png
---

## 🎬 Intro
> TCP와 UDP의 차이에 대해 알아봅시다.

### ✅ TCP

#### 1. 연결 기반 전송 계층
TCP는 두 프로세스 간의 연결을 먼저 설정한 후에 통신하는 `연결 지향형` 프로토콜입니다. 통신이 시작되면 이후 패킷마다 상대 프로세스의 주소를 반복해서 명시할 필요가 없습니다.

#### 2. 1:1 연결
서버와 클라이언트는 1:1로 연결되며, 각 연결은 독립적으로 관리됩니다.

#### 3. 스트림 전송
TCP는 데이터를 `스트림 방식`으로 전송하며, 전송할 데이터 크기에 제한이 없습니다. 이는 데이터를 바이트 단위로 연속적으로 전송한다는 의미입니다.

#### 4. 신뢰성 보장
TCP는 데이터를 안전하게 전송하기 위해 각 패킷의 수신 여부를 확인하고, 손실된 패킷은 재전송합니다. 이를 통해 데이터가 정확하게 전달되고, 수신한 패킷이 순서대로 처리됩니다.

#### 5. 성능 저하 가능성
패킷에 대한 응답을 받아야 하므로 속도가 다소 느릴 수 있습니다. 예를 들어, `스트리밍 서비스`에서는 재전송으로 인해 지연이 발생할 수 있어 불리합니다.

#### 6. 연결 관리
TCP는 `3-way handshaking`을 통해 연결을 설정하고, `4-way handshaking`으로 연결을 해제합니다. 해당 부분은 다른 포스트에서 자세히 다룰 예정이므로 간단하게만 설명드리겠습니다.

- **3-way handshaking**: 송신자와 수신자 간에 연결을 설정하기 위해 3단계의 신호 교환을 통해 연결을 확립합니다.
- **4-way handshaking**: 연결을 종료할 때, 양측 모두가 연결을 종료했음을 확인하는 4단계 절차입니다.

#### 7. 혼잡 제어
TCP는 네트워크 상태에 따라 전송 속도를 조절하는 `혼잡 제어` 기능이 있습니다. 이는 데이터의 흐름을 제어하여 네트워크 혼잡을 방지하지만, 성능이 떨어질 수 있습니다.

#### 사용 사례
- **웹 브라우징 (HTTP/HTTPS)**: TCP의 신뢰성 있는 연결이 웹 페이지를 안전하게 전송하는 데 유리합니다.
- **이메일 전송 (SMTP)**: 데이터 손실을 허용하지 않는 환경에서 TCP는 적합한 프로토콜입니다.

---

### ✅ UDP

#### 1. 무연결 전송 계층
UDP는 `비연결형` 프로토콜로, 데이터를 전송할 때 송신자와 수신자 간의 연결을 설정하지 않습니다. 따라서, 각 패킷에는 수신자의 주소가 포함되어야 합니다.

#### 2. 1:N 연결
UDP는 1:1뿐만 아니라 1:N 연결도 가능하여, 여러 수신자에게 데이터를 전송할 수 있습니다.

#### 3. 데이터 유실 허용
UDP는 데이터 손실을 허용하며, 패킷이 손실되거나 순서가 뒤바뀌어도 재전송을 요청하지 않습니다.

#### 4. 성능 우선
UDP는 `최대 성능`을 우선시하여 빠른 데이터 전송이 필요할 때 사용됩니다. 오류 제어나 흐름 제어가 없어 TCP보다 속도가 빠릅니다.

#### 5. 스트리밍 서비스에 유리
UDP는 실시간 데이터 전송이 중요한 환경에서 매우 유리합니다. 데이터 손실이 발생해도 서비스 품질에 큰 영향을 미치지 않는 경우, 예를 들어 `비디오 스트리밍`이나 `온라인 게임`에서 주로 사용됩니다.

#### 6. 실제 사용
실시간 성능이 중요한 스트리밍 서비스나 게임에서 UDP가 자주 사용되지만, 최근에는 TCP도 스트리밍 서비스에서 널리 사용되고 있습니다. 이는 TCP가 안정성과 신뢰성을 제공하기 때문입니다.

#### 사용 사례
- **실시간 스트리밍**: 빠른 데이터 전송이 필요한 비디오나 오디오 스트리밍 서비스에서 UDP는 성능을 우선합니다.
- **온라인 게임**: 빠른 반응 시간이 중요한 온라인 게임에서도 UDP는 주로 사용됩니다.

---

### 📊 TCP와 UDP의 차이점

| **특성**            | **TCP**                    | **UDP**                |
|-------------------|----------------------------|------------------------|
| **연결 방식**         | 연결 지향형 (3-way handshaking) | 비연결형                   |
| **서버-클라이언트 관계**   | 1:1 연결                     | 1:N 연결 가능              |
| **데이터 전송 방식**     | 스트림 전송 (크기 무제한)            | 메시지 전송 (고정된 크기의 데이터그램) |
| **성능**            | 성능이 낮을 수 있음                | 성능이 빠름                 |
| **오류 제어**         | 있음 (데이터 유실 시 복구 가능)        | 없음 (데이터 유실 가능)         |
| **데이터 순서 보장**     | 순서 보장                      | 순서 보장 없음               |
| **사용 사례**         | 웹 브라우징, 이메일, 파일 전송         | 실시간 방송, 온라인 게임         |
| **스트리밍 서비스**      | 비효율적 (재전송으로 인해 지연 발생)      | 효율적 (빠른 전송)            |
| **실시간 서비스에서의 사용** | 사용 가능하지만, 성능에 제약이 있음       | 성능이 중요한 경우에 적합         |

---

## ✨ Summary
- `TCP`는 데이터의 신뢰성과 순서를 보장하지만, 속도가 느립니다. 재전송을 통해 데이터의 정확성을 보장하는 것이 중요한 경우에 사용됩니다.
- `UDP`는 빠른 속도를 우선시하며, 데이터의 신뢰성보다는 실시간성이 중요한 경우에 적합합니다. 데이터 손실이 약간 발생해도 큰 영향을 미치지 않는 서비스에서 자주 사용됩니다.

## Reference
> [KOCW_네트워크_김철기_교수님](http://www.kocw.net/home/cview.do?cid=a042a065f8072d8a)
